<template>
  <div class="crissy-show">
    <div id="header-canvas"></div>
    <div class="show-header">
      <div class="contain">
        <div class="img-contain">
          <img :src="pictureInfo.imgUrl">
          <ul>
            <li @click="toBook()">
              <svg v-if="!isBook" t="1683535866660" class="icon" viewBox="0 0 1024 1024" version="1.1"
                xmlns="http://www.w3.org/2000/svg" p-id="1491" width="24" height="24">
                <path
                  d="M704 405.333333v-128a21.333333 21.333333 0 0 1 42.666667 0v128h128a21.333333 21.333333 0 0 1 0 42.666667h-128v128a21.333333 21.333333 0 0 1-42.666667 0v-128h-128a21.333333 21.333333 0 0 1 0-42.666667h128z m149.333333 173.717334a21.333333 21.333333 0 0 1 42.666667 0V881.493333a64 64 0 0 1-98.794667 53.696l-273.088-176.96a21.333333 21.333333 0 0 0-23.189333 0l-274.197333 177.152A64 64 0 0 1 128 881.642667V234.666667a149.333333 149.333333 0 0 1 149.333333-149.333334h469.333334a149.333333 149.333333 0 0 1 149.333333 149.333334v43.946666a21.333333 21.333333 0 0 1-42.666667 0V234.666667a106.666667 106.666667 0 0 0-106.666666-106.666667H277.333333a106.666667 106.666667 0 0 0-106.666666 106.666667v646.976a21.333333 21.333333 0 0 0 32.917333 17.92l274.197333-177.173334a64 64 0 0 1 69.546667 0.064l273.066667 176.96A21.333333 21.333333 0 0 0 853.333333 881.493333V579.072z"
                  fill="#222222" p-id="1492"></path>
              </svg>
              <svg v-if="isBook" t="1683536701648" class="icon" viewBox="0 0 1024 1024" version="1.1"
                xmlns="http://www.w3.org/2000/svg" p-id="3856" width="24" height="24">
                <path
                  d="M823.04 44.032H196.864c-56.576 0-102.4 45.824-102.4 102.4v766.976c0 30.976 18.688 58.368 47.616 69.888 28.416 11.264 60.416 4.352 81.664-17.664l260.864-240.896 1.536-1.536c6.144-6.4 14.336-9.984 23.04-9.984 8.704 0 16.896 3.584 23.04 9.984l1.536 1.536 262.656 241.664c14.336 14.848 33.792 22.784 53.76 22.784 9.216 0 18.688-1.792 27.904-5.376 28.928-11.52 47.36-38.912 47.36-69.888V146.432c0-56.576-45.824-102.4-102.4-102.4z m-158.208 376.064h-121.856v115.968c0 16.896-13.824 30.72-30.72 30.72s-30.72-13.824-30.72-30.72v-115.968h-119.808c-16.896 0-30.72-13.824-30.72-30.72s13.824-30.72 30.72-30.72h119.808V232.96c0-16.896 13.824-30.72 30.72-30.72s30.72 13.824 30.72 30.72v125.696h121.856c16.896 0 30.72 13.824 30.72 30.72s-13.824 30.72-30.72 30.72z"
                  fill="#d4237a" p-id="3857"></path>
              </svg>
            </li>
            <li @click="toKeep()">
              <svg v-if="!isKeep" t="1683535964284" class="icon" viewBox="0 0 1024 1024" version="1.1"
                xmlns="http://www.w3.org/2000/svg" p-id="2489" width="24" height="24">
                <path
                  d="M248.482281 938.000324c-4.306072 0-8.592702-1.336438-12.211113-3.967358-6.395664-4.646833-9.600659-12.521175-8.264221-20.314675l48.430012-282.363949L71.288626 431.382914c-5.66093-5.519714-7.698333-13.772678-5.255701-21.291932 2.444679-7.519254 8.943696-13.000082 16.768919-14.137998l283.508006-41.195238L493.099535 97.853655c3.498684-7.089465 10.720156-11.577686 18.627243-11.577686 7.907087 0 15.127536 4.489244 18.627243 11.577686l126.788661 256.904091 283.510052 41.195238c7.823176 1.137916 14.322194 6.618744 16.766872 14.137998 2.442632 7.519254 0.405229 15.773242-5.255701 21.291932L747.012502 631.354342l48.430012 282.363949c1.336438 7.7935-1.868557 15.667841-8.264221 20.314675-6.399757 4.646833-14.878872 5.257747-21.874193 1.582031L511.726777 802.298666 258.146385 935.614997C255.107165 937.211355 251.789607 938.000324 248.482281 938.000324zM130.422422 431.011454 313.25654 609.228415c4.894474 4.7727 7.128351 11.647271 5.974062 18.385742l-43.163055 251.64532 225.994104-118.811989c6.048763-3.180436 13.282514-3.180436 19.331277 0l225.992057 118.811989-43.163055-251.64532c-1.154289-6.738471 1.079588-13.613042 5.974062-18.385742l182.833095-178.216961-252.665557-36.71418c-6.767124-0.983397-12.614296-5.233188-15.641235-11.362792L511.726777 153.97893 398.729214 382.934482c-3.025916 6.129604-8.874111 10.379395-15.639189 11.362792L130.422422 431.011454z"
                  fill="#272636" p-id="2490"></path>
              </svg>
              <svg v-if="isKeep" t="1683536554112" class="icon" viewBox="0 0 1024 1024" version="1.1"
                xmlns="http://www.w3.org/2000/svg" p-id="2664" width="24" height="24">
                <path
                  d="M720.398507 959.573333c73.045333 31.317333 136.96-15.317333 129.706666-94.293333l-20.650666-226.218667 174.634666-199.722666c38.144-43.648 19.2-102.229333-37.418666-115.114667l-258.474667-58.794667-135.68-228.010666c-29.738667-49.877333-91.306667-49.92-121.045333 0L315.74784 265.429333 57.273173 324.224C0.953173 337.066667-18.33216 395.648 19.854507 439.338667l174.634666 199.722666-24.021333 264.405334c-5.248 57.770667 44.544 94.037333 97.877333 71.125333l243.626667-104.533333 208.426667 89.472z"
                  fill="#d4237a" p-id="2665"></path>
              </svg>
            </li>
            <li @click="toLove()">
              <svg v-if="!isLove" t="1683535761957" class="icon" viewBox="0 0 1024 1024" version="1.1"
                xmlns="http://www.w3.org/2000/svg" p-id="4308" width="24" height="24">
                <path
                  d="M522.24 851.968l-335.872-354.304s-4.096-4.096-8.192-10.24c-6.144-8.192-12.288-18.432-18.432-30.72-34.816-65.536-38.912-135.168 2.048-200.704 20.48-34.816 47.104-57.344 77.824-71.68 38.912-18.432 81.92-22.528 118.784-16.384 6.144 2.048 10.24 2.048 12.288 2.048 10.24 4.096 22.528-2.048 24.576-14.336 4.096-10.24-2.048-22.528-14.336-24.576-4.096 0-10.24-2.048-16.384-4.096-45.056-8.192-96.256-4.096-143.36 20.48-36.864 18.432-67.584 47.104-94.208 88.064-51.2 79.872-45.056 163.84-4.096 241.664 12.288 22.528 22.528 38.912 30.72 49.152l352.256 370.688 14.336 14.336 374.784-374.784c24.576-24.576 49.152-79.872 55.296-135.168 8.192-73.728-14.336-145.408-71.68-202.752-104.448-104.448-227.328-90.112-333.824-20.48-20.48 14.336-57.344 49.152-106.496 100.352l-12.288 12.288c-24.576 24.576-49.152 51.2-73.728 77.824-8.192 10.24-16.384 18.432-24.576 26.624-4.096 4.096-8.192 8.192-8.192 10.24-8.192 8.192-6.144 20.48 2.048 28.672 8.192 8.192 20.48 6.144 28.672-2.048 2.048-2.048 4.096-4.096 8.192-10.24 6.144-8.192 14.336-16.384 24.576-26.624 24.576-26.624 49.152-53.248 73.728-77.824l12.288-12.288c47.104-49.152 83.968-81.92 100.352-94.208 92.16-61.44 194.56-73.728 282.624 14.336 49.152 49.152 67.584 108.544 61.44 169.984-6.144 47.104-24.576 92.16-43.008 110.592l-307.2 303.104-49.152 49.152 8.192-6.144z"
                  fill="#222222" p-id="4309"></path>
              </svg>
              <svg v-if="isLove" t="1683536764705" class="icon" viewBox="0 0 1024 1024" version="1.1"
                xmlns="http://www.w3.org/2000/svg" p-id="4905" width="24" height="24">
                <path
                  d="M467.137979 191.936695l-18.985929 29.696577c-132.342362-70.588391-299.836028-29.746279-381.942716 98.6821-86.256753 134.926834-46.433519 315.902 88.493316 402.158753l226.32768 144.693156 245.276333 156.832719 156.88242-245.326034 174.576114-273.084258c86.256753-134.926834 46.445944-315.889575-88.48089-402.146328s-315.889575-46.433519-402.146328 88.493315z"
                  fill="#d4237a" p-id="4906"></path>
                <path
                  d="M193.229319 140.252077a58.187896 30.355121 37.15 1 0 36.663145-48.389537 58.187896 30.355121 37.15 1 0-36.663145 48.389537Z"
                  fill="#d4237a" p-id="4907"></path>
                <path
                  d="M322.570122 115.553522a30.355121 58.187896 7.36 1 0 14.908117-115.416953 30.355121 58.187896 7.36 1 0-14.908117 115.416953Z"
                  fill="#d4237a" p-id="4908"></path>
              </svg>
            </li>
            <li @click="toDownload()">
              <svg t="1683538717720" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="9075" width="24" height="24">
                <path
                  d="M502.010485 765.939573c3.773953 3.719718 8.686846 5.573949 13.596669 5.573949 0.075725 0 0.151449-0.010233 0.227174-0.011256 0.329505 0.016373 0.654916 0.050142 0.988514 0.050142 0.706081 0 1.400906-0.042979 2.087545-0.116657 4.352121-0.366344 8.607028-2.190899 11.961426-5.496178l335.053985-330.166675c7.619538-7.509021 7.709589-19.773346 0.200568-27.393907s-19.774369-7.711636-27.39493-0.201591L536.193005 706.304358 536.193005 50.019207c0-10.698666-8.67252-19.371186-19.371186-19.371186s-19.371186 8.67252-19.371186 19.371186l0 657.032164-306.881342-302.44838c-7.618515-7.509021-19.883863-7.419993-27.393907 0.199545-7.509021 7.619538-7.419993 19.884886 0.199545 27.393907L502.010485 765.939573z"
                  fill="#222222" p-id="9076"></path>
                <path
                  d="M867.170139 711.020776c-10.698666 0-19.371186 8.67252-19.371186 19.371186l0 165.419494c0 13.054317-10.620895 23.675212-23.676236 23.675212L205.182103 919.486668c-13.054317 0-23.676236-10.620895-23.676236-23.675212L181.505867 730.391962c0-10.698666-8.67252-19.371186-19.371186-19.371186s-19.371186 8.67252-19.371186 19.371186l0 165.419494c0 34.416857 28.000728 62.416562 62.417585 62.416562l618.941638 0c34.417881 0 62.417585-27.999704 62.417585-62.416562L886.540302 730.391962C886.541325 719.693296 877.868805 711.020776 867.170139 711.020776z"
                  fill="#222222" p-id="9077"></path>
              </svg>
            </li>
          </ul>
        </div>
      </div>
      <!-- <img src="@/assets/img/show_bg.png" class="show-header-bg"> -->
    </div>
  </div>
  <div class="picture-comment">
    作者留言+读者评论
  </div>
  <!-- <CrissyGrid> </CrissyGrid> -->
</template>

<script>
import { onMounted, reactive, ref } from "vue";
import { useRoute } from "vue-router";
import { getPictureAPI } from "@/http/api/wallpaper";
import CrissyGrid from "@/components/CrissyGrid.vue";


export default {
  name: "WallpaperShow",
  components: {
    CrissyGrid,
  },
  setup() {
    const { params } = useRoute();
    const data = reactive({
      id: params.id,
    });

    const pictureInfo = ref({
      imgUrl: "",
      imgAuthor: "",
      imgDescri: "",
      imgKeyword: "",
    });

    let isBook = ref(false);
    let isKeep = ref(false);
    let isLove = ref(false);

    function toBook() {
      isBook.value = !isBook.value;
    }
    function toKeep() {
      isKeep.value = !isKeep.value;
    }
    function toLove() {
      isLove.value = !isLove.value;
    }
    function toDownload() {
      // window.location.href = pictureInfo.value.imgUrl;
    }

    onMounted(() => {
      getPictureAPI(data).then((res) => {
        pictureInfo.value = { ...res.data }
      });
    });

    return {
      pictureInfo,
      isBook,
      isKeep,
      isLove,
      toBook,
      toKeep,
      toLove,
      toDownload,
    };
  },
};
</script>

<style scoped>
.crissy-show {
  width: 100%;
  display: flex;
  position: relative;
}

#header-canvas {
  width: 100%;
  height: 518px;
  position: absolute;
  top: 0;
  left: 0;
  z-index: -1;
}

.show-header {
  display: flex;
  position: relative;
  justify-content: center;
  width: 100%;
  padding: 1.5rem 0;
}

.contain {
  width: 837px;
  height: 470px;
  display: flex;
  justify-content: center;
  align-content: center;
}

.img-contain {
  position: relative;
  padding: 20px 20px;
  background: #fff;
  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.35);
}

.img-contain img {
  max-width: 100%;
  height: 100%;
  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.3);
}

img[src=""],
img:not([src]) {
  width: 250px;
  height: 100%;
  opacity: 0;
}

.img-contain ul {
  position: absolute;
  bottom: 3vw;
  right: -4vw;
}

.img-contain ul li {
  list-style: none;
  margin-bottom: 1vw;
  cursor: pointer;
}

.picture-comment {
  width: 100%;
  height: 400px;
  background: #ddd;
}
</style>